## 블록체인 트랜잭션 전송 로직 및 검증 로직
1. **트랜잭션 데이터 구성**
    - 문서(데이터): 이전 트랜잭션의 출력 정보 + 수신자의 공개키(주소) + 전송 금액
2. **해시 생성 (SHA-256)**
    - 위 데이터를 SHA-256으로 해싱하여 고유한 식별자(해시)를 만든다
3. **서명(Signature)**
    - 송신자는 자신의 **비밀키(Private Key)** 로 이 해시값을 서명(Sign)한다
    - 즉, “이 거래가 내가 보낸 것이 맞다”는 증거를 남기는 과정
4. **전자서명 첨부**
    - 이 서명(Signature)을 트랜잭션 데이터에 함께 포함해 네트워크로 전송한다
5. **검증(Verification)**
    - 네트워크의 노드는 송신자의 **공개키(Public Key)** 를 사용해 전자서명이 올바른지 복호화(검증)한다
6. **무결성 확인**
    - 검증 결과, 서명으로부터 얻은 해시값이 원본 데이터를 다시 해싱한 값과 일치하면
        
        “트랜잭션이 변조되지 않았고, 실제 해당 개인키의 소유자가 서명했다”는 것을 증명할 수 있다.


# **블록 생성과 채굴 과정(비트코인 기준, PoW)**
### 트랜잭션 → 메모리 풀(Mempool)

- 사용자가 생성한 트랜잭션은 네트워크의 모든 노드로 전파된다
- 각 노드는 트랜잭션의 **서명 검증(Signature Verification**과 **UTXO 사용 여부**를 확인하여
    
    **유효한 거래인지** 검증한다
    
- 검증이 완료된 트랜잭션은 **메모리 풀(Mempool)** 에 저장된다.
    - **메모리 풀:** 아직 블록에 포함되지 않은 “대기 중인 거래 목록”

이후 **채굴자(Miner)** 들은 메모리 풀에서 거래들을 모아 새 블록을 만들 준비를 한다

## **블록 생성 과정**

비트코인 네트워크에서 하나의 블록이 생성되는 과정은 다음과 같다

### **1. 트랜잭션 수집 (Block Body 일부 준비)**

- 채굴자는 Mempool에서 유효한 트랜잭션을 선택하여 블록 본문(Body)에 담는다
- 이 목록의 첫 번째에는 **코인베이스 트랜잭션(Coinbase Transaction)** 이 포함됨
    
    → 새로 발행되는 비트코인 보상 + 수수료가 채굴자의 주소로 전송됨
    

### **2. 블록 헤더 구성 (Block Header 생성)**

- 트랜잭션 목록이 정해지면, 채굴자는 블록 헤더를 구성한다
- **Header는 Body의 요약 정보(merkle_root)**를 포함하므로 **트랜잭션이 먼저 만들어지고 → 그걸 요약해서 헤더가 같이 생성**
- 헤더에는 **해시 계산의 입력값**이 되는 중요한 정보들이 들어있음



### **3.  채굴 (Proof of Work)**

- 채굴자는 위 블록 헤더를 **SHA-256 해시 함수로 두 번 연산(SHA256d)** 한다
- 이때 **nonce** 값을 계속 바꿔가며, 해시 결과가 **목표 난이도(target)** 보다 작은 값이 될 때까지 반복 계산
- 목표보다 작은 해시를 찾는 것이 **“작업증명(Proof of Work)”의 핵심**


### **4. 마이닝 성공 → 블록 확정**

- 목표 조건을 만족하는 해시를 찾으면 블록이 “유효한 블록”으로 확정됨
- 채굴자는 이 완성된 블록(Header + Body)을 네트워크 전체로 전파
- 다른 노드는 전달받은 블록을 검증
    - 헤더 해시가 목표 난이도 이하인지
    - 블록 안 트랜잭션이 유효한지 (이중지불 방지 포함)
- 검증에 성공하면 해당 블록을 자신의 로컬 체인에 추가하고, 다음 블록의 previous_block_hash 로 연결
